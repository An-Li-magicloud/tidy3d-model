{
    "title": "Simulation",
    "description": "Contains all information about simulation ",
    "type": "object",
    "properties": {
        "size": {
            "title": "Size",
            "type": "array",
            "items": [
                {"type": "number", "minimum": 0},
                {"type": "number", "minimum": 0},
                {"type": "number", "minimum": 0},
            ],
        },
        "center": {
            "title": "Center",
            "default": [0.0, 0.0, 0.0],
            "type": "array",
            "items": [{"type": "number"}, {"type": "number"}, {"type": "number"}],
        },
        "grid_size": {
            "title": "Grid Size",
            "anyOf": [
                {"type": "number", "exclusiveMinimum": 0},
                {
                    "type": "array",
                    "items": [
                        {
                            "anyOf": [
                                {"type": "number", "exclusiveMinimum": 0},
                                {
                                    "type": "array",
                                    "items": {"type": "number", "exclusiveMinimum": 0},
                                },
                            ]
                        },
                        {
                            "anyOf": [
                                {"type": "number", "exclusiveMinimum": 0},
                                {
                                    "type": "array",
                                    "items": {"type": "number", "exclusiveMinimum": 0},
                                },
                            ]
                        },
                        {
                            "anyOf": [
                                {"type": "number", "exclusiveMinimum": 0},
                                {
                                    "type": "array",
                                    "items": {"type": "number", "exclusiveMinimum": 0},
                                },
                            ]
                        },
                    ],
                },
            ],
        },
        "medium": {
            "title": "Medium",
            "default": {
                "frequency_range": [-Infinity, Infinity],
                "permittivity": 1.0,
                "conductivity": 0.0,
            },
            "allOf": [{"$ref": "#/definitions/Medium"}],
        },
        "run_time": {
            "title": "Run Time",
            "default": 0.0,
            "minimum": 0,
            "type": "number",
        },
        "structures": {
            "title": "Structures",
            "default": {},
            "type": "object",
            "additionalProperties": {"$ref": "#/definitions/Structure"},
        },
        "sources": {
            "title": "Sources",
            "default": {},
            "type": "object",
            "additionalProperties": {"$ref": "#/definitions/Source"},
        },
        "monitors": {
            "title": "Monitors",
            "default": {},
            "type": "object",
            "additionalProperties": {"$ref": "#/definitions/Monitor"},
        },
        "pml_layers": {
            "title": "Pml Layers",
            "default": [
                {"profile": "standard", "num_layers": 0},
                {"profile": "standard", "num_layers": 0},
                {"profile": "standard", "num_layers": 0},
            ],
            "type": "array",
            "items": [
                {"$ref": "#/definitions/PMLLayer"},
                {"$ref": "#/definitions/PMLLayer"},
                {"$ref": "#/definitions/PMLLayer"},
            ],
        },
        "symmetry": {
            "title": "Symmetry",
            "default": [0, 0, 0],
            "type": "array",
            "items": [
                {"enum": [0, -1, 1], "type": "integer"},
                {"enum": [0, -1, 1], "type": "integer"},
                {"enum": [0, -1, 1], "type": "integer"},
            ],
        },
        "shutoff": {
            "title": "Shutoff",
            "default": 1e-05,
            "minimum": 0,
            "type": "number",
        },
        "courant": {"title": "Courant", "default": 0.9, "minimum": 0, "type": "number"},
        "subpixel": {"title": "Subpixel", "default": true, "type": "boolean"},
    },
    "required": ["size", "grid_size"],
    "additionalProperties": false,
    "definitions": {
        "Medium": {
            "title": "Medium",
            "description": "Dispersionless Medium ",
            "type": "object",
            "properties": {
                "frequency_range": {
                    "title": "Frequency Range",
                    "default": [-Infinity, Infinity],
                    "type": "array",
                    "items": [{"type": "number"}, {"type": "number"}],
                },
                "permittivity": {
                    "title": "Permittivity",
                    "default": 1.0,
                    "type": "number",
                },
                "conductivity": {
                    "title": "Conductivity",
                    "default": 0.0,
                    "type": "number",
                },
            },
            "additionalProperties": false,
        },
        "Geometry": {
            "title": "Geometry",
            "description": "abstract base class, defines where something exists in space",
            "type": "object",
            "properties": {},
            "additionalProperties": false,
        },
        "Structure": {
            "title": "Structure",
            "description": "An object that interacts with the electromagnetic fields",
            "type": "object",
            "properties": {
                "geometry": {"$ref": "#/definitions/Geometry"},
                "medium": {"$ref": "#/definitions/Medium"},
            },
            "required": ["geometry", "medium"],
            "additionalProperties": false,
        },
        "SourceTime": {
            "title": "SourceTime",
            "description": "Base class describing the time dependence of a source",
            "type": "object",
            "properties": {
                "amplitude": {
                    "title": "Amplitude",
                    "default": 1.0,
                    "minimum": 0,
                    "type": "number",
                },
                "phase": {"title": "Phase", "default": 0.0, "type": "number"},
            },
            "additionalProperties": false,
        },
        "Source": {
            "title": "Source",
            "description": "Volume Source with time dependence and polarization ",
            "type": "object",
            "properties": {
                "size": {
                    "title": "Size",
                    "type": "array",
                    "items": [
                        {"type": "number", "minimum": 0},
                        {"type": "number", "minimum": 0},
                        {"type": "number", "minimum": 0},
                    ],
                },
                "center": {
                    "title": "Center",
                    "default": [0.0, 0.0, 0.0],
                    "type": "array",
                    "items": [
                        {"type": "number"},
                        {"type": "number"},
                        {"type": "number"},
                    ],
                },
                "source_time": {"$ref": "#/definitions/SourceTime"},
                "polarization": {
                    "title": "Polarization",
                    "enum": ["Jx", "Jy", "Jz", "Mx", "My", "Mz"],
                    "type": "string",
                },
            },
            "required": ["size", "source_time", "polarization"],
            "additionalProperties": false,
        },
        "Monitor": {
            "title": "Monitor",
            "description": "base class for monitors, which all have Box shape ",
            "type": "object",
            "properties": {
                "size": {
                    "title": "Size",
                    "type": "array",
                    "items": [
                        {"type": "number", "minimum": 0},
                        {"type": "number", "minimum": 0},
                        {"type": "number", "minimum": 0},
                    ],
                },
                "center": {
                    "title": "Center",
                    "default": [0.0, 0.0, 0.0],
                    "type": "array",
                    "items": [
                        {"type": "number"},
                        {"type": "number"},
                        {"type": "number"},
                    ],
                },
            },
            "required": ["size"],
            "additionalProperties": false,
        },
        "PMLLayer": {
            "title": "PMLLayer",
            "description": "single layer of a PML (profile and num layers)",
            "type": "object",
            "properties": {
                "profile": {
                    "title": "Profile",
                    "default": "standard",
                    "enum": ["standard", "stable", "absorber"],
                    "type": "string",
                },
                "num_layers": {
                    "title": "Num Layers",
                    "default": 0,
                    "minimum": 0,
                    "type": "integer",
                },
            },
            "additionalProperties": false,
        },
    },
}
